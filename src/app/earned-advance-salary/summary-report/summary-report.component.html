<div class="container-fluid pb-5" >
    <mat-card class="py-4" >
        <div class="page-heading-container mb-3">
            <p class="m-0 heading-2">Earned Advance Pension summary report</p>
        </div>

        <div class="row justify-content-center g-2">
            <div class="col-md-6 col-xl-4 mt-2" (click)="getDataBySelection('ConsentEmployeeList')" >
                <div class="emp-transfer-card-container p-4 rounded d-flex align-items-center justify-content-between" [ngClass]="{'active':currentSelection == 'ConsentEmployeeList'}" id="ConsentEmployeeList" matRipple>
                    <div class="emp-transfer-image-container">
                        <img *ngIf="currentSelection !== 'ConsentEmployeeList'" src="./assets/images/consent.svg" alt="consent_img">
                        <img *ngIf="currentSelection === 'ConsentEmployeeList'" src="./assets/images/consent-w.svg" alt="consent_img">
                    </div>
                    <div class="content-container">
                        <div class="card-number text-end">
                            <p class="m-0 card-number-text primary">{{ transactionDataCount?.totalEmployeeConsent }}</p>
                        </div>
                        <div class="card-text-container text-end">
                            <p class="m-0 medium-font">Total employees given consent</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-xl-4 mt-2" (click)="getDataBySelection('KycVerifiedEmployeeList')">
                <div class="emp-transfer-card-container p-4 rounded d-flex align-items-center justify-content-between" [ngClass]="{'active':currentSelection == 'KycVerifiedEmployeeList'}" id="KycVerifiedEmployeeList" matRipple>
                    <div class="emp-transfer-image-container">
                        <img *ngIf="currentSelection !== 'KycVerifiedEmployeeList'" src="./assets/images/KYC.svg" alt="kyc_img">
                        <img *ngIf="currentSelection === 'KycVerifiedEmployeeList'" src="./assets/images/KYC-w.svg" alt="kyc_img">
                    </div>
                    <div class="content-container">
                        <div class="card-number text-end">
                            <p class="m-0 card-number-text primary">{{ transactionDataCount?.kycVerified }}</p>
                        </div>
                        <div class="card-text-container text-end">
                            <p class="m-0 medium-font">No. of employees KYC verified</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-xl-4 mt-2" (click)="getDataBySelection('TxnPerformedEmployeeList')">
                <div class="emp-transfer-card-container p-4 rounded d-flex align-items-center justify-content-between" [ngClass]="{'active':currentSelection == 'TxnPerformedEmployeeList'}" id="TxnPerformedEmployeeList" matRipple>
                    <div class="emp-transfer-image-container">
                        <img *ngIf="currentSelection !== 'TxnPerformedEmployeeList'" src="./assets/images/transaction-performed.svg" alt="img">
                        <img *ngIf="currentSelection === 'TxnPerformedEmployeeList'" src="./assets/images/transaction-performed-w.svg" alt="img">
                    </div>
                    <div class="content-container">
                        <div class="card-number text-end">
                            <p class="m-0 card-number-text primary">{{ transactionDataCount?.noOfEmpPerformTxn }}</p>
                        </div>
                        <div class="card-text-container text-end">
                            <p class="m-0 medium-font">No. of performed transactions by employees</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-xl-4 mt-2" (click)="getDataBySelection('TxnDetailList')">
                <div class="emp-transfer-card-container p-4 rounded d-flex align-items-center justify-content-between" [ngClass]="{'active':currentSelection == 'TxnDetailList'}" id="TxnDetailList" matRipple>
                    <div class="emp-transfer-image-container">
                        <img *ngIf="currentSelection !== 'TxnDetailList'" src="./assets/images/total-transaction.svg" alt="img">
                        <img *ngIf="currentSelection === 'TxnDetailList'" src="./assets/images/total-transaction-w.svg" alt="img">
                    </div>
                    <div class="content-container">
                        <div class="card-number text-end">
                            <p class="m-0 card-number-text primary">{{ transactionDataCount?.totalTxn }}</p>
                        </div>
                        <div class="card-text-container text-end">
                            <p class="m-0 medium-font">Total Transactions</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-xl-4 mt-2" (click)="getDataBySelection('getTxnAmountDetailList')">
                <div class="emp-transfer-card-container p-4 rounded d-flex align-items-center justify-content-between" [ngClass]="{'active':currentSelection == 'getTxnAmountDetailList'}" id="getTxnAmountDetailList" matRipple>
                    <div class="emp-transfer-image-container">
                        <img *ngIf="currentSelection !== 'getTxnAmountDetailList'" src="./assets/images/transfered-amount.svg" alt="img">
                        <img *ngIf="currentSelection === 'getTxnAmountDetailList'" src="./assets/images/transfered-amount-w.svg" alt="img">
                    </div>
                    <div class="content-container">
                        <div class="card-number text-end">
                            <p class="m-0 card-number-text primary">{{ transactionDataCount?.totalTxnAmount|number }}</p>
                        </div>
                        <div class="card-text-container text-end">
                            <p class="m-0 medium-font">Total amount transferred</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </mat-card>
   

    <div class="employee-table-container mt-4" *ngIf="showTransTable">
        <table  mat-table [dataSource]="employeeTableDataSource" class="employee-data-table w-100">
            
            <ng-container  matColumnDef="date">
                <th mat-header-cell *matHeaderCellDef class="table-col-padding">Date</th>
                    <td mat-cell *matCellDef="let element" class="table-col-padding">
                       <p class="m-0"> {{element.date|date}}</p>
                    </td>
            </ng-container>
    
                <ng-container matColumnDef="emp_id">
                    <th mat-header-cell *matHeaderCellDef class="table-col-padding">Employee ID</th>
                    <td mat-cell *matCellDef="let element" class="table-col-padding">
                        <p class="m-0"> {{element.employeeCode}}</p>
                    </td>
                </ng-container>
    
            <ng-container matColumnDef="emp_name">
                <th mat-header-cell *matHeaderCellDef class="table-col-padding">Employee Name</th>
                <td mat-cell *matCellDef="let element" class="table-col-padding">
                   <p class="m-0"> {{element.employeeName}}</p>
                </td>
            </ng-container>
    
            <ng-container matColumnDef="department">
                <th mat-header-cell *matHeaderCellDef class="table-col-padding">Department</th>
                <td mat-cell *matCellDef="let element" class="table-col-padding">
                   <p class="m-0 py-2"> {{element.department}}</p>
                 </td>
            </ng-container>
    
            <ng-container matColumnDef="mobile_no">
                <th mat-header-cell *matHeaderCellDef class="table-col-padding">Mobile No.</th>
                <td mat-cell *matCellDef="let element" class="table-col-padding">
                    <p class="m-0">{{element.mobile}}</p>
                </td>
            </ng-container>
    
           
            <tr mat-header-row *matHeaderRowDef="displayedColumns;sticky: true"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    
            <!-- Row shown when there is no matching data. -->
            <tr class="mat-row" *matNoDataRow>
                <td class="mat-cell" colspan="4">No data matching the filter</td>
            </tr>
    
        </table>
    </div>
    
    <div *ngIf="showTransTable">
        <mat-paginator [length]="100" [pageSize]="10" [pageSizeOptions]="[10,15, 25, 100]"
            aria-label="Select page" showFirstLastButtons>
        </mat-paginator>
    </div>
    
       <!-- transction table -->
    
       
    
    <div class="employee-table-container mt-4" *ngIf="txnAmountDetailList">
        <table  mat-table [dataSource]="employeeTableDataSource" matSort (matSortChange)="announceSortChange($event)" class="transction-data-table w-100">
    
            
    
                <ng-container matColumnDef="emp_id">
                    <th mat-header-cell *matHeaderCellDef class="table-col-padding" mat-sort-header sortActionDescription="Sort by id">Employee ID</th>
                    <td mat-cell *matCellDef="let element" class="table-col-padding">
                        <p class="m-0"> {{element.employeeCode}}</p>
                    </td>
                </ng-container>
    
            <ng-container matColumnDef="emp_name">
                <th mat-header-cell *matHeaderCellDef class="table-col-padding" mat-sort-header sortActionDescription="Sort by emp_name">Employee Name</th>
                <td mat-cell *matCellDef="let element" class="table-col-padding">
                   <p class="m-0"> {{element.employeeName}}</p>
                </td>
            </ng-container>
            <ng-container matColumnDef="post">
                <th mat-header-cell *matHeaderCellDef class="table-col-padding" mat-sort-header sortActionDescription="Sort by post">Post</th>
                <td mat-cell *matCellDef="let element" class="table-col-padding">
                   <p class="m-0"> {{element.post}}</p>
                </td>
            </ng-container>
            <ng-container matColumnDef="ddo_code">
                <th mat-header-cell *matHeaderCellDef class="table-col-padding" mat-sort-header sortActionDescription="Sort by ddo_code">DDO Code</th>
                <td mat-cell *matCellDef="let element" class="table-col-padding">
                   <p class="m-0"> {{element.ddoCode}}</p>
                </td>
            </ng-container>
            <ng-container matColumnDef="office_name">
                <th mat-header-cell *matHeaderCellDef class="table-col-padding" mat-sort-header sortActionDescription="Sort by office_name">Office Name</th>
                <td mat-cell *matCellDef="let element" class="table-col-padding">
                   <p class="m-0"> {{element.officeName}}</p>
                </td>
            </ng-container>
           
    
            <ng-container matColumnDef="department">
                <th mat-header-cell *matHeaderCellDef class="table-col-padding" mat-sort-header sortActionDescription="Sort by department">Department</th>
                <td mat-cell *matCellDef="let element" class="table-col-padding">
                   <p class="m-0 py-2"> {{element.department}}</p>
                 </td>
            </ng-container>

            <ng-container matColumnDef="wth_amt">
                <th mat-header-cell *matHeaderCellDef class="table-col-padding" mat-sort-header sortActionDescription="Sort by wth_amt">Withdrawal Amount</th>
                <td mat-cell *matCellDef="let element" class="table-col-padding">
                   <p class="m-0"> {{element.wthAmount|currency:'INR'}}</p>
                </td>
            </ng-container>
    
            <ng-container matColumnDef="wth_date">
                <th mat-header-cell *matHeaderCellDef class="table-col-padding" mat-sort-header sortActionDescription="Sort by wth_date">Withdrawn Date</th>
                <td mat-cell *matCellDef="let element" class="table-col-padding">
                    <p class="m-0">{{element.wthDate}}</p>
                </td>
            </ng-container>

    
            <ng-container matColumnDef="utr_no">
                <th mat-header-cell *matHeaderCellDef class="table-col-padding" mat-sort-header sortActionDescription="Sort by utr_no">UTR No</th>
                <td mat-cell *matCellDef="let element" class="table-col-padding">
                    <p class="m-0">{{element.utrNo}}</p>
                </td>
            </ng-container>
            <ng-container matColumnDef="last_month_sal">
                <th mat-header-cell *matHeaderCellDef class="table-col-padding" mat-sort-header sortActionDescription="Sort by last_month_sal">Last month net Salary</th>
                <td mat-cell *matCellDef="let element" class="table-col-padding">
                    <p class="m-0">{{element.lastMonthNetSalary|currency :'INR'}}</p>
                </td>
            </ng-container>
            <ng-container matColumnDef="retirement_date">
                <th mat-header-cell *matHeaderCellDef class="table-col-padding" mat-sort-header sortActionDescription="Sort by retirement_date">Retirement Date</th>
                <td mat-cell *matCellDef="let element" class="table-col-padding">
                    <p class="m-0">{{element.retirementDate}}</p>
                </td>
            </ng-container>
    
           
            <tr mat-header-row *matHeaderRowDef="displayedColumns1;sticky: true"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns1"></tr>
    
            <!-- Row shown when there is no matching data. -->
            <tr class="mat-row" *matNoDataRow>
                <td class="mat-cell" colspan="4">No data matching the filter</td>
            </tr>
    
        </table>
    </div>
       
    <div *ngIf="txnAmountDetailList">
        <mat-paginator [length]="100" [pageSize]="10" [pageSizeOptions]="[10,15, 25, 100]"
            aria-label="Select page" showFirstLastButtons>
        </mat-paginator>
    </div>
</div>